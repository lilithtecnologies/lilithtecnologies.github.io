<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oasis - Gestor de Finanzas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%234CAF50' width='192' height='192'/><text x='50%' y='50%' font-size='120' dy='.3em' text-anchor='middle' dominant-baseline='middle' font-family='system-ui' fill='white'>üåø</text></svg>">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Oasis">
    <meta name="theme-color" content="#4CAF50">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåø</text></svg>">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <h1>Oasis</h1>
            </div>
            <div class="theme-toggle">
                <button id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <!-- Contenido principal (secciones) -->
        <main class="main-content">
            <!-- Secci√≥n de Resumen (activa por defecto) -->
            <section id="resumen-section" class="content-section active">
                <!-- Saldo actual -->
                <div class="balance-section">
                    <div class="balance-card">
                        <h2>Saldo disponible</h2>
                        <div class="balance-amount" id="balance-amount">$0</div>
                        <div class="balance-period">
                            <span id="current-date"></span>
                        </div>
                    </div>
                </div>

                <!-- Pr√≥ximos gastos -->
                <div class="upcoming-section">
                    <h3>Pr√≥ximos gastos (7 d√≠as)</h3>
                    <div class="upcoming-list" id="upcoming-list">
                        <div class="empty-upcoming">
                            <i class="fas fa-calendar-day"></i>
                            <p>No hay gastos programados para los pr√≥ximos 7 d√≠as</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de Agregar Ingreso -->
            <section id="ingreso-section" class="content-section">
                <div class="form-header">
                    <h2><i class="fas fa-plus-circle"></i> Agregar Ingreso</h2>
                    <p>Registra tus ingresos fijos o variables</p>
                </div>
                
                <form id="income-form" class="transaction-form">
                    <div class="form-group">
                        <label for="income-category">Categor√≠a</label>
                        <select id="income-category" required>
                            <option value="" disabled selected>Seleccionar categor√≠a</option>
                            <option value="beca">Beca</option>
                            <option value="salario">Salario</option>
                            <option value="ayuda">Ayuda familiar</option>
                            <option value="otros-ingresos">Otros ingresos</option>
                        </select>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="income-amount">Monto ($)</label>
                            <input type="number" id="income-amount" min="0" step="0.01" placeholder="0.00" required>
                        </div>
                        <div class="form-group">
                            <label for="income-frequency">Frecuencia</label>
                            <select id="income-frequency" required>
                                <option value="one-time" selected>Una vez</option>
                                <option value="daily">Diario</option>
                                <option value="weekly">Semanal</option>
                                <option value="monthly">Mensual</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="income-description">Descripci√≥n (opcional)</label>
                        <input type="text" id="income-description" placeholder="Ej: Beca de excelencia acad√©mica">
                    </div>
                    
                    <!-- Contenedor para selectores din√°micos de ingresos -->
                    <div id="income-dynamic-fields"></div>
                    
                    <button type="submit" class="btn-submit income-btn">
                        <i class="fas fa-plus-circle"></i> Agregar ingreso
                    </button>
                </form>
            </section>

            <!-- Secci√≥n de Agregar Gasto -->
            <section id="gasto-section" class="content-section">
                <div class="form-header">
                    <h2><i class="fas fa-minus-circle"></i> Agregar Gasto</h2>
                    <p>Registra tus gastos fijos o variables</p>
                </div>
                
                <form id="expense-form" class="transaction-form">
                    <div class="form-group">
                        <label for="expense-category">Categor√≠a</label>
                        <select id="expense-category" required>
                            <option value="" disabled selected>Seleccionar categor√≠a</option>
                            <option value="comida">Comida</option>
                            <option value="transporte">Transporte</option>
                            <option value="ocio">Ocio</option>
                            <option value="estudio">Estudio</option>
                            <option value="vivienda">Vivienda</option>
                            <option value="viaje">Viaje</option>
                            <option value="otros-gastos">Otros gastos</option>
                        </select>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="expense-amount">Monto ($)</label>
                            <input type="number" id="expense-amount" min="0" step="0.01" placeholder="0.00" required>
                        </div>
                        <div class="form-group">
                            <label for="expense-frequency">Frecuencia</label>
                            <select id="expense-frequency" required>
                                <option value="one-time" selected>Una vez</option>
                                <option value="daily">Diario</option>
                                <option value="weekly">Semanal</option>
                                <option value="monthly">Mensual</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="expense-description">Descripci√≥n (opcional)</label>
                        <input type="text" id="expense-description" placeholder="Ej: Almuerzo en la universidad">
                    </div>
                    
                    <!-- Contenedor para selectores din√°micos de gastos -->
                    <div id="expense-dynamic-fields"></div>
                    
                    <button type="submit" class="btn-submit expense-btn">
                        <i class="fas fa-plus-circle"></i> Agregar gasto
                    </button>
                </form>
            </section>

            <!-- Secci√≥n de Historial -->
            <section id="historial-section" class="content-section">
                <div class="history-header">
                    <h2><i class="fas fa-history"></i> Historial</h2>
                    <p>Todas tus transacciones y ocurrencias recurrentes</p>
                </div>
                
                <div class="history-filters">
                    <button class="filter-btn active" data-filter="all">Todas</button>
                    <button class="filter-btn" data-filter="income">Ingresos</button>
                    <button class="filter-btn" data-filter="expense">Gastos</button>
                </div>
                
                <div class="history-list" id="history-list">
                    <div class="empty-history">
                        <i class="fas fa-receipt"></i>
                        <p>No hay transacciones registradas</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Men√∫ inferior -->
        <nav class="bottom-nav">
            <a href="#" class="nav-item active" data-section="resumen-section">
                <i class="fas fa-home"></i>
                <span>Resumen</span>
            </a>
            <a href="#" class="nav-item" data-section="ingreso-section">
                <i class="fas fa-plus-circle"></i>
                <span>Ingreso</span>
            </a>
            <a href="#" class="nav-item" data-section="gasto-section">
                <i class="fas fa-minus-circle"></i>
                <span>Gasto</span>
            </a>
            <a href="#" class="nav-item" data-section="historial-section">
                <i class="fas fa-history"></i>
                <span>Historial</span>
            </a>
        </nav>

        <!-- Footer -->
        <footer class="footer">
            <p>Creado por <a href="https://lilithtecnologies.github.io" target="_blank">Lilith Technologies</a> ‚Ä¢ 
               <a href="mailto:tecnologieslilith@gmail.com">Contacto</a> ‚Ä¢ 
               <span id="reset-data">Restablecer datos</span></p>
        </footer>
    </div>

    <!-- Modal para confirmar eliminaci√≥n -->
    <div class="modal" id="delete-modal">
        <div class="modal-content">
            <h3>Confirmar eliminaci√≥n</h3>
            <p>¬øEst√°s seguro de que deseas eliminar esta transacci√≥n?</p>
            <div class="modal-buttons">
                <button id="cancel-delete">Cancelar</button>
                <button id="confirm-delete">Eliminar</button>
            </div>
        </div>
    </div>

    <!-- Modal para confirmar restablecimiento -->
    <div class="modal" id="reset-modal">
        <div class="modal-content">
            <h3>Restablecer datos</h3>
            <p>¬øEst√°s seguro de que deseas eliminar todos los datos? Esta acci√≥n no se puede deshacer.</p>
            <div class="modal-buttons">
                <button id="cancel-reset">Cancelar</button>
                <button id="confirm-reset">Restablecer</button>
            </div>
        </div>
    </div>

    <script src="storageManager.js"></script>
    <script src="themeManager.js"></script>
    <script src="transactionManager.js"></script>
    <script src="uiManager.js"></script>
    <script src="pwaManager.js"></script>
    <script src="script.js"></script>
</body>
</html>